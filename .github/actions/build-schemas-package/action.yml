name: Build Schemas âœ¨
description: Builds and validates the @goat-it/schemas package (build, pack and basic checks)
author: Antoine ZANARDI

runs:
  using: composite
  steps:
    - name: Install project ðŸ“¦
      uses: ./.github/actions/install-project

    - name: Build @goat-it/schemas ðŸ“š
      shell: bash
      run: pnpm --filter @goat-it/schemas run build

    - name: Verify build artifacts âœ…
      shell: bash
      run: test -d packages/schemas/dist

    - name: Pack package (sanity check) ðŸ“¦
      shell: bash
      run: pnpm --filter @goat-it/schemas pack

    - name: Save build artifacts ðŸ’Ž
      uses: actions/upload-artifact@v6
      if: always()
      with:
        name: schemas-package-build
        path: dist
        retention-days: 2
